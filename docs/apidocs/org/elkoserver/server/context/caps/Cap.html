<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_121) on Tue Jan 17 00:47:56 GMT 2017 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Cap (neohabitat 0.1.0-SNAPSHOT API)</title>
<meta name="date" content="2017-01-17">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Cap (neohabitat 0.1.0-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Cap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/elkoserver/server/context/caps/ContextKeyCap.html" title="class in org.elkoserver.server.context.caps"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/elkoserver/server/context/caps/Cap.html" target="_top">Frames</a></li>
<li><a href="Cap.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elkoserver.server.context.caps</div>
<h2 title="Class Cap" class="title">Class Cap</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../org/elkoserver/server/context/Mod.html" title="class in org.elkoserver.server.context">org.elkoserver.server.context.Mod</a></li>
<li>
<ul class="inheritance">
<li>org.elkoserver.server.context.caps.Cap</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Cloneable.html?is-external=true" title="class or interface in java.lang">Cloneable</a>, <a href="../../../../../org/elkoserver/foundation/json/DispatchTarget.html" title="interface in org.elkoserver.foundation.json">DispatchTarget</a>, <a href="../../../../../org/elkoserver/json/Encodable.html" title="interface in org.elkoserver.json">Encodable</a>, <a href="../../../../../org/elkoserver/server/context/ObjectCompletionWatcher.html" title="interface in org.elkoserver.server.context">ObjectCompletionWatcher</a></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../../org/elkoserver/server/context/caps/ContextKeyCap.html" title="class in org.elkoserver.server.context.caps">ContextKeyCap</a>, <a href="../../../../../org/elkoserver/server/context/caps/Definer.html" title="class in org.elkoserver.server.context.caps">Definer</a></dd>
</dl>
<hr>
<br>
<pre>public abstract class <span class="strong">Cap</span>
extends <a href="../../../../../org/elkoserver/server/context/Mod.html" title="class in org.elkoserver.server.context">Mod</a>
implements <a href="../../../../../org/elkoserver/server/context/ObjectCompletionWatcher.html" title="interface in org.elkoserver.server.context">ObjectCompletionWatcher</a></pre>
<div class="block">Base class for implementing capability mods that grant access to privileged
 operations.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#Cap(org.elkoserver.json.JSONObject)">Cap</a></strong>(<a href="../../../../../org/elkoserver/json/JSONObject.html" title="class in org.elkoserver.json">JSONObject</a>&nbsp;desc)</code>
<div class="block">JSON-driven constructor.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#delete(org.elkoserver.server.context.User)">delete</a></strong>(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from)</code>
<div class="block">Handle a 'delete' message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#encodeDefaultParameters(org.elkoserver.json.JSONLiteral)">encodeDefaultParameters</a></strong>(<a href="../../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</a>&nbsp;lit)</code>
<div class="block">Encode the basic capability parameters as part of encoding this
 capability mod.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#ensureValid(org.elkoserver.server.context.User)">ensureValid</a></strong>(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from)</code>
<div class="block">Guard function to guarantee that an operation being attempted by a user
 is being applied to a capability that is actually available to that
 user.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#isExpired()">isExpired</a></strong>()</code>
<div class="block">Test if this capability has expired.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#objectIsComplete()">objectIsComplete</a></strong>()</code>
<div class="block">Mark the item as visible only to its holder.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#setlabel(org.elkoserver.server.context.User,%20java.lang.String)">setlabel</a></strong>(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;label)</code>
<div class="block">Handle a 'setlabel' message.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#spawn(org.elkoserver.server.context.User,%20org.elkoserver.foundation.json.OptString,%20org.elkoserver.foundation.json.OptBoolean,%20org.elkoserver.foundation.json.OptBoolean,%20org.elkoserver.foundation.json.OptInteger,%20org.elkoserver.foundation.json.OptInteger)">spawn</a></strong>(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from,
     <a href="../../../../../org/elkoserver/foundation/json/OptString.html" title="class in org.elkoserver.foundation.json">OptString</a>&nbsp;dest,
     <a href="../../../../../org/elkoserver/foundation/json/OptBoolean.html" title="class in org.elkoserver.foundation.json">OptBoolean</a>&nbsp;transferrable,
     <a href="../../../../../org/elkoserver/foundation/json/OptBoolean.html" title="class in org.elkoserver.foundation.json">OptBoolean</a>&nbsp;deleteable,
     <a href="../../../../../org/elkoserver/foundation/json/OptInteger.html" title="class in org.elkoserver.foundation.json">OptInteger</a>&nbsp;duration,
     <a href="../../../../../org/elkoserver/foundation/json/OptInteger.html" title="class in org.elkoserver.foundation.json">OptInteger</a>&nbsp;expiration)</code>
<div class="block">Handle a 'spawn' message.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../org/elkoserver/server/context/caps/Cap.html#transfer(org.elkoserver.server.context.User,%20java.lang.String)">transfer</a></strong>(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from,
        <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destRef)</code>
<div class="block">Handle a 'transfer' message.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.elkoserver.server.context.Mod">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.elkoserver.server.context.<a href="../../../../../org/elkoserver/server/context/Mod.html" title="class in org.elkoserver.server.context">Mod</a></h3>
<code><a href="../../../../../org/elkoserver/server/context/Mod.html#attachTo(org.elkoserver.server.context.BasicObject)">attachTo</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#clone()">clone</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#context()">context</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#ensureHolding(org.elkoserver.server.context.User)">ensureHolding</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#ensureInContext(org.elkoserver.server.context.User)">ensureInContext</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#ensureReachable(org.elkoserver.server.context.User)">ensureReachable</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#ensureSameContext(org.elkoserver.server.context.User)">ensureSameContext</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#ensureSameUser(org.elkoserver.server.context.User)">ensureSameUser</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#holder()">holder</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#isEphemeral()">isEphemeral</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#markAsChanged()">markAsChanged</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#markAsEphemeral()">markAsEphemeral</a>, <a href="../../../../../org/elkoserver/server/context/Mod.html#object()">object</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.elkoserver.json.Encodable">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.elkoserver.json.<a href="../../../../../org/elkoserver/json/Encodable.html" title="interface in org.elkoserver.json">Encodable</a></h3>
<code><a href="../../../../../org/elkoserver/json/Encodable.html#encode(org.elkoserver.json.EncodeControl)">encode</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Cap(org.elkoserver.json.JSONObject)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Cap</h4>
<pre>public&nbsp;Cap(<a href="../../../../../org/elkoserver/json/JSONObject.html" title="class in org.elkoserver.json">JSONObject</a>&nbsp;desc)
    throws <a href="../../../../../org/elkoserver/json/JSONDecodingException.html" title="class in org.elkoserver.json">JSONDecodingException</a></pre>
<div class="block">JSON-driven constructor.

 Note that there are no JSON parameters declared.  This constructor must
 be called from the subclass and will extract its own parameters from the
 JSON object directly.  It looks for three parameters, two booleans and a
 timestamp:

    transferrable  true (default) if cap is transferrable
    deletable      true (default) if cap is deletable
    expiration     time after which cap no longer operates (default
                   value is 0, i.e., cap is permanent), expressed as
                   milliseconds past the epoch, exactly as returned by
                   <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/System.html?is-external=true#currentTimeMillis()" title="class or interface in java.lang"><code>System.currentTimeMillis()</code></a>.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>desc</code> - The parsed JSON object describing this capability mod.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/elkoserver/json/JSONDecodingException.html" title="class in org.elkoserver.json">JSONDecodingException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="objectIsComplete()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>objectIsComplete</h4>
<pre>public final&nbsp;void&nbsp;objectIsComplete()</pre>
<div class="block">Mark the item as visible only to its holder.

 <p>Application code should not call this method.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code><a href="../../../../../org/elkoserver/server/context/ObjectCompletionWatcher.html#objectIsComplete()">objectIsComplete</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../org/elkoserver/server/context/ObjectCompletionWatcher.html" title="interface in org.elkoserver.server.context">ObjectCompletionWatcher</a></code></dd>
</dl>
</li>
</ul>
<a name="encodeDefaultParameters(org.elkoserver.json.JSONLiteral)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>encodeDefaultParameters</h4>
<pre>protected final&nbsp;void&nbsp;encodeDefaultParameters(<a href="../../../../../org/elkoserver/json/JSONLiteral.html" title="class in org.elkoserver.json">JSONLiteral</a>&nbsp;lit)</pre>
<div class="block">Encode the basic capability parameters as part of encoding this
 capability mod.  This method must be called by the encode() method of
 each subclass.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>lit</code> - The JSONLiteral into which this capability mod is being
    encoded.</dd></dl>
</li>
</ul>
<a name="ensureValid(org.elkoserver.server.context.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ensureValid</h4>
<pre>public final&nbsp;void&nbsp;ensureValid(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from)
                       throws <a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></pre>
<div class="block">Guard function to guarantee that an operation being attempted by a user
 is being applied to a capability that is actually available to that
 user.  To be available, the capability must be attached to an object
 that is reachable by the user and it must not be expired.  If this
 capability is not available, this method with throw a <a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json"><code>MessageHandlerException</code></a>.</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></code> - if the test fails.</dd></dl>
</li>
</ul>
<a name="isExpired()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isExpired</h4>
<pre>public final&nbsp;boolean&nbsp;isExpired()</pre>
<div class="block">Test if this capability has expired.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if this capability has expired, false if it is still OK to
    use.</dd></dl>
</li>
</ul>
<a name="delete(org.elkoserver.server.context.User)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre><a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html" title="annotation in org.elkoserver.foundation.json">@JSONMethod</a>
public final&nbsp;void&nbsp;delete(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from)
                  throws <a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></pre>
<div class="block">Handle a 'delete' message.  This is a request from a client to delete
 the capability object.

 <p>This request will be rejected if the capability is marked as
 undeletable and is not expired.<p>

 <u>recv</u>: <tt> { to:<i>REF</i>, op:"delete" } </tt><br>
 <u>send</u>: <tt> { to:<i>REF</i>, op:"delete" } </tt></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>from</code> - The user who sent the message.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></code></dd></dl>
</li>
</ul>
<a name="setlabel(org.elkoserver.server.context.User, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setlabel</h4>
<pre><a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html" title="annotation in org.elkoserver.foundation.json">@JSONMethod</a>(<a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html#value()">value</a>="label")
public&nbsp;void&nbsp;setlabel(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;label)
              throws <a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></pre>
<div class="block">Handle a 'setlabel' message.  This is a request from a client to change
 the label of the capability object.<p>

 <u>recv</u>: <tt> { to:<i>REF</i>, op:"setlabel",
                     label:<i>STR</i> } </tt><br>
 <u>send</u>: no reply is sent.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>from</code> - The user who sent the message.</dd><dd><code>label</code> - The new label string.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></code></dd></dl>
</li>
</ul>
<a name="transfer(org.elkoserver.server.context.User, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>transfer</h4>
<pre><a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html" title="annotation in org.elkoserver.foundation.json">@JSONMethod</a>(<a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html#value()">value</a>="dest")
public final&nbsp;void&nbsp;transfer(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from,
                            <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;destRef)
                    throws <a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></pre>
<div class="block">Handle a 'transfer' message.  This is a request from a client to pass
 possession of the capability object to somebody else.

 <p>This request will be rejected if the capability is marked as
 untransferrable.  Yes, this is unenforceable due to the possibility of
 proxying, but marketing solipsism must be served.<p>

 <u>recv</u>: <tt> { to:<i>REF</i>, op:"transfer", dest:<i>DESTREF</i> } </tt><br>
 <u>send</u>: <tt> { to:<i>REF</i>, op:"delete" } </tt><br>
 <u>send</u>: <tt> { to:<i>DESTREF</i>, op:"make", ... } </tt></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>from</code> - The user who sent the message.</dd><dd><code>destRef</code> - Reference to user or context that is to receive the
    capability.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></code></dd></dl>
</li>
</ul>
<a name="spawn(org.elkoserver.server.context.User, org.elkoserver.foundation.json.OptString, org.elkoserver.foundation.json.OptBoolean, org.elkoserver.foundation.json.OptBoolean, org.elkoserver.foundation.json.OptInteger, org.elkoserver.foundation.json.OptInteger)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>spawn</h4>
<pre><a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html" title="annotation in org.elkoserver.foundation.json">@JSONMethod</a>(<a href="../../../../../org/elkoserver/foundation/json/JSONMethod.html#value()">value</a>={"dest","transferrable","deletable","duration","expiration"})
public&nbsp;void&nbsp;spawn(<a href="../../../../../org/elkoserver/server/context/User.html" title="class in org.elkoserver.server.context">User</a>&nbsp;from,
                         <a href="../../../../../org/elkoserver/foundation/json/OptString.html" title="class in org.elkoserver.foundation.json">OptString</a>&nbsp;dest,
                         <a href="../../../../../org/elkoserver/foundation/json/OptBoolean.html" title="class in org.elkoserver.foundation.json">OptBoolean</a>&nbsp;transferrable,
                         <a href="../../../../../org/elkoserver/foundation/json/OptBoolean.html" title="class in org.elkoserver.foundation.json">OptBoolean</a>&nbsp;deleteable,
                         <a href="../../../../../org/elkoserver/foundation/json/OptInteger.html" title="class in org.elkoserver.foundation.json">OptInteger</a>&nbsp;duration,
                         <a href="../../../../../org/elkoserver/foundation/json/OptInteger.html" title="class in org.elkoserver.foundation.json">OptInteger</a>&nbsp;expiration)
           throws <a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></pre>
<div class="block">Handle a 'spawn' message.  This is a request from a client to create a
 copy of the capability object, with possibly reduced scope of powers.

 <p>This method will reject, as an illegal rights amplification, any
 attempt to spawn a capability that is undeletable when the base
 capability is deletable, transferrable when the base capability is
 untransferrable, or which has a later expiration time than the base
 capability.

 <p>If 'dest' designates a different holder, the operation will also be
 regarded as a transfer and subjected to all the same checks as a call to
 <a href="../../../../../org/elkoserver/server/context/caps/Cap.html#transfer(org.elkoserver.server.context.User,%20java.lang.String)"><code>transfer()</code></a>.<p>

 <u>recv</u>: <tt> { to:<i>REF</i>, op:"spawn", dest:<i>optDESTREF</i>,
                     transferrable:<i>optBOOL</i>,
                     duration:<i>optLONG</i>,
                     expiration:<i>optLONG</i> } </tt><br>
 <u>send</u>: <tt> { to:<i>DESTREF</i>, op:"make", ... } </tt></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>from</code> - The user who sent the message.</dd><dd><code>dest</code> - Reference to container into which the new capability is to
    be placed.  If omitted, defaults to the sending user.  If this
    capability is non-transferrable, must refer to the sending user or a
    container contained by the sending user.</dd><dd><code>transferrable</code> - Flag indicating whether the new capability is to
    be transferrable.  If omitted, defaults to the same value as this
    capability.  It is not permitted to set this parameter to
    true if this capability is not itself transferrable.</dd><dd><code>deleteable</code> - Flag indicating whether the new capability is to be
    deleteable.  If omitted, defaults to true.  It is not permitted to
    set this parameter to false if this capability is itself deletable.</dd><dd><code>duration</code> - Expiration time of the new capability, expressed as an
    offset (in milliseconds) from the present.  A value of 0 (the
    default) indicates that the capability is permanent.</dd><dd><code>expiration</code> - Expiration time of the new capability, expressed as
    an absolute system time (in milliseconds).</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../org/elkoserver/foundation/json/MessageHandlerException.html" title="class in org.elkoserver.foundation.json">MessageHandlerException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Cap.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../../../org/elkoserver/server/context/caps/ContextKeyCap.html" title="class in org.elkoserver.server.context.caps"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../index.html?org/elkoserver/server/context/caps/Cap.html" target="_top">Frames</a></li>
<li><a href="Cap.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2017. All rights reserved.</small></p>
</body>
</html>
